# 認証・認可について
本ドキュメントでは、TERAにおける認証・認可の設計、実装について説明します。

## 認証方式
Firebase Authentication を使用してユーザー認証を行います。ログイン方法は Google アカウントを利用したソーシャルログインを採用しています。

また、Google ログインは `gn.iwasaki.ac.jp` ドメインのアカウントに限定していますが、限定方法はクライアントサイドで行っているため、おそらくログインするだけであれば、他のドメインのアカウントでも可能です。

しかし、ログインのあとのユーザー情報の登録処理で弾かれるため、実質的に `gn.iwasaki.ac.jp` ドメインのアカウント以外は利用できないはずです。

## 認証フロー
![](./images/login-flow.jpg)
実際には上記のフローにユーザー情報の登録処理が追加されます。

## 認可
ロールベースの認可を採用しており、proxy.ts でアクセス制御を行っています。
新しいページを作成する場合、そのページが幹部以上専用ページであれば `urls.managerOnlyPages` にパスを追加してください。
